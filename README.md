<p align="center">
    <img alt="Meme of the day" src="https://raw.githubusercontent.com/Frodothedwarf/dynamic-readme-meme/refs/heads/main/memes/programmerhumorio/todays_png.png" height="300">
    <br />
    <i>Todays meme from ProgrammerHumor.io</i>
</p>

# dynamic-readme-meme

Fetches fresh memes (images & GIFs) from a few sources and commits them into this repo so you can embed a “daily meme” directly in your README (or anywhere else in the repo). The included GitHub Action runs on a schedule and updates files under `memes/` automatically.

## How it works

* **Sources**

  * programmerhumor.io (Hot page) via HTML scraping.
  * Reddit (multiple subreddits, day filter; images & GIFs).
* **Processing**

  * Downloads the original media, then renders a clean title bar above the meme (works for static images and animated GIFs with consistent layout across frames).
* **Output**

  * Originals and “picked” file go to structured paths like:

    * `./memes/programmerhumor/originals/<title><YYYYMMDD>.<ext>`
    * `./memes/programmerhumor/picked/todays_<ext>.<ext>`
    * `./memes/reddit/<subreddit>/{originals|picked}/...`

## Usage

Since the workflow writes consistent “picked” filenames, you can embed a stable link. For example, for ProgrammerHumor’s daily pick:

```md
<!-- Show today’s meme (PNG or GIF depending on the day) -->
<img alt="Meme of the day" src="https://raw.githubusercontent.com/Frodothedwarf/dynamic-readme-meme/refs/heads/main/memes/programmerhumorio/todays_png.png" height="500">
```

Or, for GIF:

```md
<img alt="Meme of the day" src="https://raw.githubusercontent.com/Frodothedwarf/dynamic-readme-meme/refs/heads/main/memes/reddit/ProgrammerHumor/todays_gif.gif" height="500">
```

Reddit examples:

```md
<img alt="Meme of the day" src="https://raw.githubusercontent.com/Frodothedwarf/dynamic-readme-meme/refs/heads/main/memes/reddit/ProgrammerHumor/todays_png.png" height="500">
```

Extensions depend on the fetched media type; the script writes `todays_<ext>.<ext>`.

Adjust width and height to your liking

## Project layout

```
python-memer/
  main.py
  base.py
  image/
    downloader.py
    generator.py
  sources/
    base.py
    programmerhumor.py
    reddit.py
memes/                # generated by the workflow/script (git-ignored except when committed by the action)
```

Key bits:

* `generator.py` draws the title safely for both images and GIFs.
* `programmerhumor.py` scrapes the top post and turns it into a `Meme` object.
* `main.py` orchestrates fetching from ProgrammerHumor *and* a list of Reddit subs.

## Requirements

* **Python**: 3.13 (as used in CI) or compatible.

## Local setup
```bash
git clone https://github.com/Frodothedwarf/dynamic-readme-meme.git
cd dynamic-readme-meme
python -m venv .venv && source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r python-memer/requirements.txt
```

If you want Reddit fetching locally, configure PRAW credentials via environment variables (e.g., client id/secret and user agent). The script uses `python-dotenv`, so a local `.env` works too. (See PRAW docs; variable names depend on your setup.)

## Run it locally

```bash
python python-memer/main.py
```

Generated files will appear under `memes/...` as described above.

## Configuration

* **Subreddits**: Edit `REDDIT_SUBREDDITS` in `python-memer/main.py`. Defaults include a variety of meme subs (e.g., `ProgrammerHumor`, `memes`, `funny`, etc.).
* **Media types**: `REDDIT_MEDIA_TYPES` currently allows images and GIFs.
* **User-Agent**: Requests use a desktop-like User-Agent header defined in `base.py`.

## Development

* Pre-commit & Ruff config are included—run `pre-commit install` if you want local checks.
